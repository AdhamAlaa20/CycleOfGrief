const progress = document.getElementById('progress');
const previous = document.getElementById('prev');
const next= document.getElementById('next');
const circles = document.querySelectorAll('.circle');

let currentactive = 1;

next.addEventListener('click', () => {
    currentactive++ ;
    if (currentactive > circles.length) {
        currentactive = circles.length;
    }
    updateDOM();
});

prev.addEventListener('click', () => {
    currentactive-- ;
    if (currentactive < 1) {
        currentactive = 1;
    }
    updateDOM();
});

function updateDOM(){
    circles.forEach((circle,index) => {
        if(index < currentactive){
            circle.classList.add('active');
            circle.style.backgroundColor='black';
            circle.style.color='white';
            circle.style.transition='2s ease';
        }else{
            circle.classList.remove('active');
            circle.style.backgroundColor='white';
            circle.style.color='black';
        }
    });
    const actives = document.querySelectorAll('.active');
    progress.style.width =
    ((actives.length - 1) /
        (circles.length - 1)) *
    100 +
    '%';

    if(currentactive==1){
        previous.disabled = true;
    }else if(currentactive == circles.length){
        next.disabled = true;
    }else{
        previous.disabled = false;
        next.disabled = false;
    }
}